# QRKot

## Описание

Фонд собирает пожертвования на различные целевые проекты: на медицинское обслуживание нуждающихся хвостатых, на обустройство кошачьей колонии в подвале, на корм оставшимся без попечения кошкам — на любые цели, связанные с поддержкой кошачьей популяции.

### Проекты

В Фонде QRKot может быть открыто несколько целевых проектов. У каждого проекта есть название, описание и сумма, которую планируется собрать. После того, как нужная сумма собрана — проект закрывается.

### Пожертвования
Каждый пользователь может сделать пожертвование и сопроводить его комментарием. Пожертвования не целевые: они вносятся в фонд, а не в конкретный проект. Каждое полученное пожертвование автоматически добавляется в первый открытый проект, который ещё не набрал нужную сумму. Если пожертвование больше нужной суммы или же в Фонде нет открытых проектов — оставшиеся деньги ждут открытия следующего проекта. При создании нового проекта все неинвестированные пожертвования автоматически вкладываются в новый проект.

## Установка

1. Создание и активация виртуального окружения
   ```bush
   python -m venv venv
   ```
   ```bush
   source venv/scripts/activate
   ```

2. Установка зависимостей
   ```bush
   pip install -r requirements.txt
   ```

## Запуск

Переименовать `main.py` в `__main__.py`

1. Создание `.env` файла с необходимыми переменными:
   ```bush
   make env
   ```

2. Выполнение миграций:
   ```bush
   make migrate head
   ```

3. Запуск приложения:
   ```bush
   make run
   ```

## Тестирование

- Запуск тестов со всеми необходимыми флагами:
  ```bush
  make test
  ```

- Запуск тестов с генерацией отчета о покрытии:
  ```bush
  make test-cov
  ```

## Статический анализ

- Запуск линтеров:
   ```bush
   make lint
   ```

- Запуск форматирования кода:
   ```bush
   make format
   ```

## Дополнительные команды

- Создание новой ревизии:
   ```bush
   make revision
   ```

- Вывести список всех команд и их описание:
   ```bush
   make help
   ```
